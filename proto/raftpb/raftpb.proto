syntax="proto3";

package raftpb;

option go_package = "github.com/zbchi/linkv/proto/raftpb";

message Entry{
    uint64 term=1;
    uint64 index=2;
    bytes data=3;
}

enum Type{
        MsgHup=0;
        MsgBeat=1;
        MsgApp=2;
        MsgAppResp=3;
        MsgVote=4;
        MsgVoteResp=5;
        MsgSnap=6;
    }


message Message{

    Type type=1;
    uint64 from=2;
    uint64 to=3;
    uint64 term=4;
    uint64 logTerm=5;
    uint64 logIndex=6;
    uint64 commit=7;
    repeated Entry entries=8;
    bool reject=9;
    uint64 rejectHint=10;
}


service Raft{
    rpc Step(Message)returns(Message);
}